<script>
  const base = "LET ME BACK THERE I'M ALIVE HERE I'LL NEVER LET YOU FORGET ABOUT ME";
  const fragments = [
    "BACK THERE I'LL NEVER LET YOU FORGET",
    "I'LL NEVER LET YOU ABOUT ME",
    "ALIVE HERE LET ME BACK LET ME BACK",
    "FORGET ABOUT ME I'M ALIVE"
  ];

  const screen = document.querySelector('.screen'); // <-- Added this
  const block = document.getElementById('textBlock');
  let text = "";
  let yOffset = 0;
  let xDrift = 0;
  let driftDirection = 1;

  function randomFragment() {
    return (Math.random() < 0.7 ? base : fragments[Math.floor(Math.random() * fragments.length)]) + " ";
  }

  for (let i = 0; i < 15; i++) text += randomFragment();
  block.textContent = text;

  function appendText() {
    text += randomFragment();
    if (text.length > 6000) text = text.slice(-4000);
    block.textContent = text;
  }

  function scrollUp() {
    yOffset += 0.05; 
    if (Math.random() < 0.004) yOffset += Math.random() * 4 - 1;
    xDrift += driftDirection * 0.1;
    if (Math.abs(xDrift) > 2) driftDirection *= -1;
    block.style.transform = `translate(${xDrift}px, -${yOffset}px)`;
  }

  function makeGhost() {
    if (Math.random() < 0.02) {
      const ghost = block.cloneNode(true);
      ghost.classList.add('ghost');
      screen.appendChild(ghost);
      setTimeout(() => ghost.remove(), 600);
    }
  }

  setInterval(appendText, 200);
  setInterval(scrollUp, 40);
  setInterval(makeGhost, 300);
</script>
